> 유튜브 `널널한 개발자 TV`를 보면서 네트워크 공부 중입니다.

# 네트워크 개요

![프레젠테이션1](https://github.com/Ohjiwoo-lab/TIL/assets/74577768/f1d3ee57-07ef-4e86-896f-9d4c47d16980)

네트워크 구조를 한 눈에 정리한 모습입니다.

> 이 그림은 통채로 암기하는 것이 좋습니다.

컴퓨터 시스템은 크게 H/W와 S/W로 나누어지며, S/W는 다시 User 애플리케이션 레벨과 운영체제 Kernel 레벨로 나눠집니다.

네트워크를 공부하기 시작할 때 가장 처음 등장하는 것은 OSI 7 Layer입니다. 하드웨어 부분에 속하는 `물리 계층`과 `데이터 링크 계층`부터, 운영체제 커널 레벨의 `네트워크 계층`, `전송 계층`과 사용자 애플리케이션 레벨의 `세션 계층`, `표현 계층`, `애플리케이션 계층`으로 구성되어 있습니다.

OSI 7 Layer 외에도  미국 국방부 DoD에서는 네트워크 계층을 4가지로 구분하고 있습니다. 하드웨어 레벨의 `Access 계층`, 운영체제 커널 레벨의 `Network 계층`과 `Transport 계층`, 사용자 애플리케이션 레벨의 `Application 계층`으로 구성되어 있습니다.

OSI 7 Layer와 DoD의 네트워크 계층은 추상적인 개념입니다.

사람이라는 개념이 있다고 해봅시다. 사람의 특징에는 무엇이 있을까요? 두 발로 걷는다, 지능을 가지고 있다 등등이 있을 수 있을 것입니다. 그러면 오지우라는 사람이 있다고 해봅시다. 오지우는 사람의 실체라고 할 수 있습니다. 그럼 사람의 특징만 가지고 오지우와 친해질 수 있을까요? 모두가 공통적으로 가지고 있는 특징만으로는 절대 친해질 수 없을 것입니다. 그래서 우리는 사람의 특징이 아닌, 오지우의 특징을 이해해야 합니다.

네트워크도 마찬가지입니다. 추상적인 OSI 7 Layer 같은 개념에 집착하는 것이 아니라, 이를 실제로 구현한 실체를 배워야할 필요가 있습니다.

이제 그 실체를 알아보겠습니다.

사용자 애플리케이션 레벨에서는 `프로세스`가 동작할 것입니다. 이는 웹 브라우저일 수도 있고, 채팅 프로그램일 수도 있고, 게임일 수도 있습니다. 웹의 경우에는 보통 HTTP 프로토콜을 사용하겠죠.

이제 이 프로세스가 다른 컴퓨터와 통신하고자 한다면 어떻게 해야할까요?

운영체제 커널에서 제공하는 TCP/IP 프로토콜을 이용할 것입니다. 해당 프로토콜를 통해 통신하고자 하는 상대 컴퓨터의 IP와 포트로 데이터를 전송합니다. 이때 프로세스는 바로 TCP/IP 기능을 이용할 수 없습니다. 프로세스는 User 레벨에서 동작하고 TCP/IP는 운영체제 Kernel에서 동작하기 때문입니다. 그래서 프로세스도 TCP/IP 기능을 이용할 수 있도록 운영체제에서 인터페이스를 제공해줍니다. 이는 파일의 형태로 제공되며 `소켓`이라고 불립니다.

즉, 소켓이란 사용자 애플리케이션이 운영체제 커널의 TCP/IP 기능을 사용하기 위해 운영체제에서 제공하는 `추상화된 인터페이스`라고 정의할 수 있습니다.

> 소켓의 정의를 정확하게 이해하는 게 중요합니다.

TCP/IP 소켓을 이용하여 전송한 데이터는 물리적인 하드웨어를 거치게 됩니다. 운영체제 커널에서는 `디바이스 드라이버`를 이용하여 하드웨어에 접근하는데, 네트워크 기능을 제공하는 하드웨어 장비는 `NIC(Network Interface Card)`입니다. 이제 NIC를 통해 복잡하게 연결되어 있는 네트워크 망으로 데이터가 전송되고 통신이 이루어집니다.

이때 데이터를 주고받기 위해 사용되는 식별자가 계층별로 존재합니다. Access 수준에서 사용되는 것이 `MAC 주소`이고, Network 수준에서는 `IP 주소`, Transfer 수준에서는 `Port 번호`가 있습니다.

<hr/>

😆 2024-1-1 새해 첫 TIL