> 유튜브 [널널한 개발자 TV](https://www.youtube.com/watch?v=k1gyh9BlOT8&list=PLXvgR_grOs1BFH-TuqFsfHqbh-gpMbFoy)의 강의 내용을 요약하거나 이해한 내용을 토대로 재구성하여 작성된 글입니다.

# 스위치란?

스위치에 대해 이해하려면 먼저 호스트를 알아야 합니다. [저번 글](https://github.com/Ohjiwoo-lab/TIL/blob/main/Network/network_overview.md#port-%EB%B2%88%ED%98%B8-ip-%EC%A3%BC%EC%86%8C-mac-%EC%A3%BC%EC%86%8C%EA%B0%80-%EC%8B%9D%EB%B3%84%ED%95%98%EB%8A%94-%EA%B2%83)에서 IP주소가 `호스트에 대한 식별자`라고 했었습니다.

그러면 호스트란 무엇일까요? 호스트는 네트워크에 연결되어 있는 컴퓨터를 의미합니다. 네트워크에 연결되어 있다면 모든 컴퓨터는 호스트가 될 수 있습니다.

그런데 네트워크에 연결되어 있다고 하더라도, 네트워크를 이용하는 컴퓨터일 수도 있고 네트워크 자체를 이루고 있는 컴퓨터일 수도 있습니다. 여기서 네트워크를 이용하는 주체를 `End-point`라고 하고, 네트워크를 자체를 이루는 것을 `스위치`라고 합니다.

⭐ **호스트 정리**

호스트: 네트워크에 연결된 컴퓨터

- End-point: 네트워크를 이용하는 호스트
- Switch: 네트워크 자체를 이루는 호스트

## End-point

호스트 중에 네트워크를 이용하는 주체를 End-point라고 하였는데, 이는 역할에 따라 다시 Peer, Server, Client로 구분할 수 있습니다.

Peer-to-Peer 네트워크 구조에서는 Peer가 End-point가 될 수 있으며, Client-Server 네트워크 구조에서는 Server와 Client가 End-point가 될 수 있습니다. 해당 구조에 대해서 간략히 설명하면 Peer-to-Peer는 각 End-point가 직접 통신하는 방식이고, Client-Server는 요청을 하는 Client와 요청을 처리하는 Server를 구분하는 방식입니다. 이에 대해서는 다른 글을 통해 구체적으로 살펴보겠습니다.

결국 이름처럼 끝단에 있는 호스트를 의미합니다. 저희가 노트북을 통해 웹사이트에 접속했다면, Client로서 End-point가 될 수 있는 것입니다.

## Switch

스위치는 네트워크 자체를 이루고 있는 호스트라고 하였습니다. 스위치가 하는 역할은 무엇일까요? 바로 `스위칭`입니다. 스위칭은 경로(인터페이스)를 선택하는 행위라고 생각하면 됩니다.

네트워크를 도로라고 생각해보면, 도로에는 교차로가 있을 것입니다.

![image](https://github.com/Ohjiwoo-lab/TIL/assets/74577768/ba32006c-f901-4a81-ba59-b0f06b68f792)   
출처: [위키백과](https://ko.wikipedia.org/wiki/%EA%B5%90%EC%B0%A8%EB%A1%9C)

위와 같은 교차로가 있다면, 자동차는 어느 방향으로 갈 지 선택할 것입니다. 직진할 수도 있고, 우회전을 할 수도 있고, 좌회전을 할 수도 있습니다. 이렇게 가야할 경로를 선택하는 행위가 스위칭입니다.

이를 네트워크로 그대로 옮겨오겠습니다. 그러면 다음과 같습니다.

- 도로 → 네트워크
- 자동차 → 패킷 (이는 추후 자세히 설명할 것인데, 우선은 데이터의 단위라고 생각하시면 됩니다)
- 교차로 → 스위치
- 자동차가 방향을 트는 것 → 스위칭

패킷이 출발지에서 목적지로 이동하는데, 이동하는 중에 스위치를 만나게 됩니다. 그러면 스위치와 연결된 여러 갈래 중에 어디로 이동할 지 스위칭합니다. 위의 그림에서는 총 4개의 갈래가 존재합니다. 그러면 이 스위치는 4개의 네트워크 인터페이스를 가졌다고 볼 수 있습니다. 이 인터페이스 중에 하나를 선택하여 이동하게 되는 것입니다.

스위치는 어떤 것을 기준으로 스위칭하냐에 따라 종류가 구분됩니다.

- MAC 주소를 이용하여 스위칭 → L2 스위치
- IP 주소를 이용하여 스위칭 → L3 스위치
- Port 번호를 이용하여 스위칭 → L4 스위치
- HTTP 프로토콜을 이용하여 스위칭 → L7 스위치

이때 L3 스위치가 우리가 익숙한 `라우터`입니다.

> 그렇다면 공유기는 스위치일까요? 스위치라면 어떤 계층의 스위치일까요?   
> 이에 대한 것은 더 공부하여 따로 정리해보겠습니다.

인터넷은 라우터의 집합체라고 할 수 있습니다. 결국 패킷이 이동하다가 라우터를 만나게 되면 연결되어 있는 네트워크 인터페이스 중에 패킷의 경로를 선택합니다. 이때 `선택의 기준`이 되는 것이 `라우팅 테이블`입니다. 라우터는 서로 통신을 하면서 라우팅 테이블을 업데이트하고, 업데이트된 라우팅 테이블에 근거하여 패킷의 경로를 선택하는 스위칭을 하게 됩니다.

<hr/>

🤗 2024-1-12: 스위치란? 정리