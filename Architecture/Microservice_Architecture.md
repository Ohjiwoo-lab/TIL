# Microservice Architecture(MSA)란?

MSA는 DevOps, Agile, Container와 더불어 클라우드 네이티브의 핵심이라고 할 수 있다. 클라우드 네이티브란 클라우드를 200%로 활용할 수 있는 방법론을 말하는데, MSA가 클라우드 환경에서 최적으로 동작하기 때문이다.

MSA란 이름 그대로 마이크로 서비스들로 구성되어 있는 구조를 말한다. 하나의 시스템이 독립적으로 실행 가능한 여러 마이크로 서비스로 나눠져 있고 이 마이크로 서비스들끼리 통신을 통해 데이터를 주고받는 구조이다. 시스템을 구성하는 여러 기능이 별도의 서비스로 개발되고 배포된다고 생각하면 된다. 마이크로 서비스는 어디에서나 독립적으로 실행이 가능해야 하기 때문에 보통 컨테이너에 배포된다. 컨테이너의 특성 덕분에 새로운 마이크로 서비스를 추가하거나 삭제하기가 용이해지면서, 확장성과 유연성을 제공해줄 수 있게 된다.

MSA에서의 통신은 API 게이트웨이와 서비스 메시로 이루어진다. 외부에서 각 서비스로의 통신은 API 게이트웨이가 담당하고, 시스템 내부에서 서비스끼리의 통신은 서비스 메시가 담당한다.

> 서비스 메시에 대해서 따로 공부해보자.   
> https://www.samsungsds.com/kr/insights/service_mesh.html

## MSA의 장단점

MSA의 장점은 유연성과 확장성에 있다. 컨테이너를 이용해 매우 빠르게 새로운 기능을 추가할 수 있어서 클라우드의 장점을 극대화할 수 있다. 또한 각 마이크로 서비스는 독립적으로 운영되기 때문에 서비스의 장애가 다른 서비스에 영향을 주지 않는다. 만약 특정 서비스에 문제가 생겨서 유지보수를 하는 상황이어도 다른 서비스는 영향을 받지 않기 때문에 전체 시스템은 정상적으로 운영될 수 있다.

하지만 각 기능마다 별도의 서비스에 나뉘어져 있기 때문에 하나의 작업을 수행하더라도 서비스끼리 많은 통신을 해야하는 상황이 생길 수도 있다. 그래서 문제가 생겼을 때 어느 부분에서 발생한 것인지 바로 알아차리기 어려울 수도 있으며, 소규모의 시스템일 경우 오히려 비용이 증가할 수도 있다는 단점이 있다.


## 모놀로식 아키텍처

MSA에 반대되는 구조로 모놀로식 아키텍처가 있는데, 이는 시스템의 모든 기능이 하나에 모여있는 것이다. 전통적인 방식으로, 하나의 서버에 모든 기능을 구현하는 것을 말한다. 이는 서버에 장애가 발생할 경우 전체 시스템에 문제가 생길 수 있고, 하나의 기능을 수정하기 위해서 전체 시스템을 다시 빌드해야 한다는 단점이 존재한다. 하지만 구조가 간단하여 구축하기 용이하고 문제를 모니터링하기 쉽다는 장점이 있다.

MSA와 모놀로식 아키텍처 둘 다 장단점이 있기 때문에 상황에 맞게 적절히 선택하는 것이 좋다. 빠른 확장이 중요하다면 MSA, 안정적이고 지연시간을 최소화하려면 모놀로식 아키텍처가 좋을 것이다. 모놀로식 아키텍처는 긴밀한 결합, MSA는 느슨한 결합으로 연결되어 있기 때문에 MSA가 지연시간이 높은 경우가 많다. 서비스 간에 통신을 해야 하기 때문이다.

# History

📌 2024-5-14: MSA 개념과 장단점, 모놀로식 아키텍처 정리   